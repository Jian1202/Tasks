# 媒体查询

## 一、基础语法框架

最简单的媒体查询语法看起来像这样的：

```css
@media media-type and (media-feature-rule) {
  /* CSS rules go here */
}
```

它由以下部分组成：

- 一个**媒体类型**
  * 告诉浏览器该代码是用在<u>什么类型的媒体</u>上的（例如打印品或者屏幕=>print / screen）；
- 一个**媒体表达**（<u>媒体特性</u>）
  * 是一个包含的CSS<u>生效所需的**规则**或者**测试**</u>；
- 一组**CSS规则**
  * 会在测试通过且媒体<u>类型正确的时候应用</u>。



## 二、媒体类型

### 常见的媒体类型

- **`all`**：适用于所有设备，是默认的媒体类型。
- **`screen`**：主要用于彩色计算机屏幕、平板电脑和智能手机等。
- **`print`**：适用于打印机和打印预览模式下的文档。
- **`speech`**：用于语音合成器，如屏幕阅读器。



### 媒体类型的使用示例

媒体类型通常与 `@media` 规则[^1]一起使用，以**应用特定的样式规则**。例如：

```css
@media print {
  body {
    font-size: 12pt;
    color: black;
    background: none;
  }
}
```

上述代码表示，

* 当**<u>文档被打印</u>**==时==：
  * `body` 元素的<u>字体大小为 12pt</u>，
  * <u>文字颜色为黑色</u>，
  * <u>背景被移除</u>。



### 媒体类型与媒体查询的关系

媒体类型是媒体查询的一部分，用于指定样式规则适用的设备类型。
媒体查询还可以包含媒体特性（如 `min-width`、`orientation` 等），以进一步细化样式的**应用条件**。例如：

```css
@media screen and (min-width: 768px) {
  .container {
    width: 750px;
  }
}
```

上述代码表示，

* 当设备是**屏幕**（`screen`）且**视口宽度不小于 768 像素**==时==：
  * `.container` **元素的宽度为 750 像素**。



## 三、媒体特性

### 常见的媒体特性分类

#### 1. **视口尺寸相关**

- **`width` / `height`**：视口的宽度和高度。
- **`min-width` / `max-width`**：最小/最大视口宽度。
- **`min-height` / `max-height`**：最小/最大视口高度。

**应用场景**：这些特性**常用于设置响应式断点**[^2]，以适配不同屏幕尺寸的设备。

#### 2. **设备方向**

**应用场景**：根据设备的方向（横屏或竖屏）调整布局，提升用户体验。

- **`orientation`**：检测设备的方向，
  取值为 `portrait`（纵向）或 `landscape`（横向）。

例如：

```css
@media (orientation: landscape) {
  /* 横向时应用的样式 */
}
```

#### 3. **分辨率与显示特性**

**应用场景**：根据设备的显示特性（如分辨率、色彩能力）优化图像和界面元素的显示效果。

- **`resolution`**：设备的分辨率，单位可以是 `dpi`、`dpcm` 或 `dppx`。
- **`aspect-ratio`**：视口的宽高比。
- **`color`**：输出设备每个颜色分量的位数。
- **`color-gamut`**：设备支持的颜色范围，如 `srgb`、`p3`、`rec2020`。
- **`monochrome`**：设备是否为单色显示，以及每像素的位数。

#### 4. **用户交互能力**

**应用场景**：根据用户的输入设备特性（如是否支持悬停、指针精度）调整交互元素的样式和行为。

- **`hover`**：设备的主要输入方式是否支持悬停操作。
- **`any-hover`**：设备的任意输入方式是否支持悬停操作。
- **`pointer`**：主要输入设备的指针精度，
  取值为 `none`、`coarse`、`fine`。
  * `none` ：用户的主要输入设备<u>不支持指针操作</u>，例如**仅使用键盘**的设备。     
  * `coarse`：用户的主要输入设备<u>具有较低的指针精度</u>，例如使用**手指操作的触控屏**。 
  * `fine` ：用户的主要输入设备<u>具有较高的指针精度</u>，例如**鼠标或触控笔**。

- **`any-pointer`**：任意输入设备的指针精度。

这些特性有助于根据用户的交互方式调整界面元素的大小和响应方式。

#### 5. **用户偏好设置**

**应用场景**：根据用户的系统设置和偏好（如主题颜色、动画偏好、对比度、数据使用）调整网页样式，提升可访问性和用户体验。

- **`prefers-color-scheme`**：用户偏好的颜色主题，取值为 `light` 或 `dark`。
- **`prefers-reduced-motion`**：用户是否偏好减少动画。
- **`prefers-contrast`**：用户是否偏好高对比度。
- **`prefers-reduced-data`**：用户是否偏好减少数据使用。

这些特性有助于提高网站的可访问性和用户体验。

------

### 示例：根据设备特性应用样式

以下是一些使用媒体特性的示例：

#### 根据屏幕大小：

```css
/* 当视口宽度不小于 768px 时应用样式 */
@media (min-width: 768px) {
  body {
    font-size: 18px;
  }
}
```

#### 根据屏幕方向：

```css
/* 当设备方向为横向时应用样式 */
@media (orientation: landscape) {
  .gallery {
    flex-direction: row;
  }
}
```

#### 根据主题设定：

```css
/* 当用户偏好暗色主题时应用样式 */
@media (prefers-color-scheme: dark) {
  body {
    background-color: #121212;
    color: #ffffff;
  }
}
```

#### 















## 注释：

[^1]:在 CSS 中，`@media` 规则是一种条件性应用样式的机制，允许开发者根据设备或环境的特性（如屏幕尺寸、分辨率、方向等）来应用不同的样式规则。这对于实现响应式设计至关重要，使网页能够在各种设备上提供优化的用户体验。

[^2]:响应式断点是在 CSS 媒体查询中定义的特定屏幕宽度值，用于控制网页在不同设备上的布局和样式变化。当视口宽度达到某个断点时，网页会根据预设的样式规则进行调整，以确保内容在各种设备上都能良好显示。
