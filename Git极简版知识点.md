# Git 极简版知识点

## **1. 核心概念**

| **概念**                    | **说明**                                               |
| :-------------------------- | :----------------------------------------------------- |
| 仓库（Repository）          | 存储代码及版本历史的目录（包含 `.git` 目录）           |
| 工作区（Working Directory） | 本地直接修改文件的可见目录                             |
| 暂存区（Staging Area）      | 临时存放 `git add` 后的待提交修改                      |
| 提交（Commit）              | 将暂存区内容保存到本地仓库，生成唯一哈希记录           |
| 分支（Branch）              | 独立开发线，默认主分支为 `main`（旧版可能为 `master`） |
| 远程仓库（Remote）          | 托管在 GitHub/GitLab 等平台的代码仓库（如 `origin`）   |

------

### **2. 基础操作**

| **操作**               | **命令**                   |
| :--------------------- | :------------------------- |
| 初始化本地仓库         | `git init`                 |
| 克隆远程仓库到本地     | `git clone <仓库URL>`      |
| 查看工作区和暂存区状态 | `git status`               |
| 添加单个文件到暂存区   | `git add <文件名>`         |
| 添加所有修改到暂存区   | `git add .`                |
| 提交暂存区内容到仓库   | `git commit -m "提交说明"` |
| 查看详细提交历史       | `git log`                  |
| 单行简洁模式查看历史   | `git log --oneline`        |
| 查看所有操作记录       | `git reflog`               |

------

### **3. 分支管理**

| **操作**                  | **命令**                   |
| :------------------------ | :------------------------- |
| 查看本地分支              | `git branch`               |
| 查看所有分支（本地+远程） | `git branch -a`            |
| 创建新分支                | `git branch <分支名>`      |
| 切换分支                  | `git checkout <分支名>`    |
| 创建并切换分支            | `git checkout -b <分支名>` |
| 合并指定分支到当前分支    | `git merge <分支名>`       |
| 删除已合并的本地分支      | `git branch -d <分支名>`   |
| 强制删除未合并的本地分支  | `git branch -D <分支名>`   |

------

### **4. 远程仓库操作**

| **操作**                 | **命令**                            |
| :----------------------- | :---------------------------------- |
| 关联远程仓库             | `git remote add origin <仓库URL>`   |
| 查看已关联的远程仓库     | `git remote -v`                     |
| 首次推送本地分支到远程   | `git push -u origin <分支名>`       |
| 删除远程分支             | `git push origin --delete <分支名>` |
| 拉取远程分支并合并到本地 | `git pull origin <分支名>`          |

------

### **5. 撤销与回退**

| **场景**               | **命令**                       |
| :--------------------- | :----------------------------- |
| 丢弃工作区单个文件修改 | `git checkout -- <文件名>`     |
| 从暂存区撤回单个文件   | `git reset HEAD <文件名>`      |
| 撤销最近一次提交       | `git reset --soft HEAD~1`      |
| 强制回退到指定提交     | `git reset --hard <commit-id>` |
| 生成逆向提交撤销更改   | `git revert <commit-id>`       |

------

### **6. 实用场景操作**

| **场景**               | **操作**                                    |
| :--------------------- | :------------------------------------------ |
| 忽略指定文件/目录      | 创建 `.gitignore` 文件并列出规则            |
| 解决代码冲突           | 手动编辑冲突文件 → `git add` → `git commit` |
| 暂存未完成的工作       | `git stash`                                 |
| 恢复暂存的修改         | `git stash pop`                             |
| 创建版本标签           | `git tag <标签名>`                          |
| 推送标签到远程         | `git push origin <标签名>`                  |
| 查看工作区与暂存区差异 | `git diff`                                  |
| 查看暂存区与仓库差异   | `git diff --staged`                         |

------

### **7. 配置与问题处理**

| **操作**             | **命令/说明**                               |
| :------------------- | :------------------------------------------ |
| 设置全局用户名       | `git config --global user.name "姓名"`      |
| 设置全局邮箱         | `git config --global user.email "邮箱"`     |
| 查看所有配置项       | `git config --list`                         |
| HTTP 权限错误处理    | 使用 Personal Access Token (PAT) 替代密码   |
| SSH 权限错误处理     | 检查 `~/.ssh/id_rsa.pub` 是否添加到远程平台 |
| 重命名本地分支       | `git branch -m <旧分支名> <新分支名>`       |
| 同步重命名分支到远程 | 删除远程旧分支 → 推送新分支                 |

------

### **极简原则总结**

1. **开发流程**：修改 → 暂存 → 提交 → 拉取 → 推送
2. **分支策略**：功能分支开发 → 合并到主分支 → 及时清理旧分支
3. **安全守则**：慎用 `reset --hard`，优先用 `revert` 或 `stash`
4. **协作规范**：频繁拉取更新，减少冲突概率